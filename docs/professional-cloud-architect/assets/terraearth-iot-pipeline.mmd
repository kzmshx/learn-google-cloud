graph LR
    subgraph "Vehicle Sensors & Data Collection"
        A[ğŸŒ¡ï¸ Temperature Sensors<br/>Engine, Hydraulics]
        B[ğŸ”§ Pressure Sensors<br/>Oil, Air, Hydraulic]
        C[ğŸ“³ Vibration Sensors<br/>Engine, Drivetrain]
        D[ğŸ“ GPS Location<br/>Position, Speed]
        E[âš™ï¸ Engine Diagnostics<br/>RPM, Load, Fuel]
        F[ğŸ• Operational Data<br/>Hours, Usage Patterns]
    end
    
    subgraph "Vehicle Data Processing Unit"
        G[ğŸ’¾ Local Data Buffer<br/>Edge Storage]
        H[ğŸ”„ Data Compression<br/>Bandwidth Optimization]
        I[ğŸ“± Cellular/WiFi Gateway<br/>Connectivity]
        J[ğŸš¨ Critical Alert System<br/>Real-time Monitoring]
    end
    
    subgraph "Real-time Data Stream"
        K[âš¡ Cloud Pub/Sub Topic<br/>Telemetry-realtime]
        L[ğŸ”„ Cloud Dataflow<br/>Stream Processing]
        M[ğŸš¨ Anomaly Detection<br/>Real-time Alerts]
        N[âš¡ Memorystore Redis<br/>Live Dashboard Cache]
    end
    
    subgraph "Batch Data Upload"
        O[ğŸ“¤ Daily Upload<br/>200-500MB per vehicle]
        P[ğŸ“¦ Cloud Storage<br/>Raw Data Staging]
        Q[ğŸ”„ Cloud Dataflow<br/>Batch Processing]
        R[ğŸ§¹ Data Cleansing<br/>Quality Validation]
    end
    
    subgraph "Time-series Storage"
        S[ğŸ“Š Cloud Bigtable<br/>High-frequency Data<br/>Millisecond Access]
        T[ğŸ“ˆ BigQuery<br/>Analytics Warehouse<br/>Partitioned by Date]
        U[â„ï¸ Cloud Storage<br/>Long-term Archive<br/>Nearline/Coldline]
    end
    
    subgraph "ML Feature Engineering"
        V[ğŸ§® Feature Extraction<br/>Statistical Aggregations]
        W[ğŸ“Š Feature Store<br/>Vertex AI Feature Store]
        X[ğŸ”„ Feature Pipeline<br/>Automated Processing]
        Y[ğŸ“ˆ Model Training Data<br/>Historical Patterns]
    end
    
    subgraph "Predictive Analytics"
        Z[ğŸ¤– Failure Prediction<br/>Component Lifespan]
        AA[ğŸ”§ Maintenance Scheduling<br/>Optimal Timing]
        BB[ğŸ“¦ Parts Forecasting<br/>Inventory Optimization]
        CC[âš¡ Real-time Scoring<br/>Live Predictions]
    end
    
    subgraph "Alert & Action Systems"
        DD[ğŸš¨ Critical Alerts<br/>Immediate Action Required]
        EE[ğŸ“§ Maintenance Notifications<br/>Scheduled Service]
        FF[ğŸ“± Mobile Alerts<br/>Field Technicians]
        GG[ğŸ“Š Dashboard Updates<br/>Fleet Managers]
    end
    
    %% Sensor data collection
    A --> G
    B --> G
    C --> G
    D --> G
    E --> G
    F --> G
    
    %% Local processing
    G --> H
    H --> I
    G --> J
    
    %% Real-time stream
    I --> K
    J --> K
    K --> L
    L --> M
    L --> N
    
    %% Batch processing
    I --> O
    O --> P
    P --> Q
    Q --> R
    
    %% Data storage
    L --> S
    R --> T
    T --> U
    N --> S
    
    %% Feature engineering
    S --> V
    T --> V
    V --> W
    W --> X
    X --> Y
    
    %% ML predictions
    Y --> Z
    Y --> AA
    Y --> BB
    W --> CC
    
    %% Alerts and actions
    M --> DD
    Z --> EE
    AA --> FF
    CC --> GG
    
    %% Feedback loops
    DD -.-> J
    EE -.-> V
    BB -.-> Q

    style A fill:#e1f5fe
    style K fill:#fff3e0
    style S fill:#e8f5e8
    style Z fill:#f3e5f5
    style DD fill:#ffebee
    style W fill:#e3f2fd