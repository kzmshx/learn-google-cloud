graph TB
    subgraph "Internet"
        Users[ğŸ‘¥ Users]
        Insurance[ğŸ¢ Insurance Companies]
        NewPartners[ğŸ¤ New Partners]
    end

    subgraph "Google Cloud"
        subgraph "Frontend & Load Balancing"
            LB[ğŸŒ Cloud Load Balancer]
            CDN[ğŸ“¡ Cloud CDN]
        end
        
        subgraph "Application Layer"
            GKE[âš™ï¸ GKE Cluster<br/>Web Applications]
            CloudRun[ğŸš€ Cloud Run<br/>APIs & Microservices]
        end
        
        subgraph "Data Layer"
            CloudSQL[ğŸ’¾ Cloud SQL<br/>MySQL/SQL Server]
            Firestore[ğŸ“Š Cloud Firestore<br/>NoSQL Data]
            Redis[âš¡ Memorystore Redis<br/>Cache Layer]
            Storage[ğŸ“¦ Cloud Storage<br/>Files & Backups]
        end
        
        subgraph "Analytics & ML"
            BigQuery[ğŸ“ˆ BigQuery<br/>Data Warehouse]
            Dataflow[ğŸ”„ Cloud Dataflow<br/>Data Processing]
            VertexAI[ğŸ¤– Vertex AI<br/>ML & Predictions]
        end
        
        subgraph "Security & Management"
            IAM[ğŸ” Cloud IAM]
            KMS[ğŸ”‘ Cloud KMS]
            SecretMgr[ğŸ”’ Secret Manager]
        end
        
        subgraph "Monitoring & Ops"
            Monitoring[ğŸ“Š Cloud Monitoring]
            Logging[ğŸ“ Cloud Logging]
            Alerting[ğŸš¨ Cloud Alerting]
        end
    end
    
    subgraph "On-Premises"
        subgraph "Legacy Systems"
            ActiveDir[ğŸ›ï¸ Active Directory]
            LegacyApps[ğŸ’¼ Legacy Insurance<br/>Integration Systems]
            FileSystem[ğŸ“ File-based Systems]
        end
    end
    
    subgraph "Network Connection"
        Interconnect[ğŸ”— Cloud Interconnect]
        VPN[ğŸ›¡ï¸ Cloud VPN<br/>Backup Connection]
    end

    %% User connections
    Users --> LB
    Insurance --> LB
    NewPartners --> LB
    
    %% Frontend flow
    LB --> CDN
    CDN --> GKE
    LB --> CloudRun
    
    %% Application to data
    GKE --> CloudSQL
    GKE --> Firestore
    GKE --> Redis
    CloudRun --> CloudSQL
    CloudRun --> Firestore
    CloudRun --> Storage
    
    %% Data processing
    CloudSQL --> Dataflow
    Firestore --> Dataflow
    Storage --> Dataflow
    Dataflow --> BigQuery
    BigQuery --> VertexAI
    
    %% Hybrid connectivity
    LegacyApps --> Interconnect
    ActiveDir --> Interconnect
    FileSystem --> VPN
    Interconnect --> CloudRun
    VPN --> CloudRun
    
    %% Security
    IAM -.-> GKE
    IAM -.-> CloudRun
    KMS -.-> CloudSQL
    KMS -.-> Storage
    SecretMgr -.-> CloudRun
    
    %% Monitoring
    Monitoring -.-> GKE
    Monitoring -.-> CloudSQL
    Logging -.-> GKE
    Logging -.-> CloudRun
    Alerting -.-> Monitoring

    style Users fill:#e1f5fe
    style Insurance fill:#f3e5f5
    style NewPartners fill:#e8f5e8
    style GKE fill:#fff3e0
    style CloudSQL fill:#ffebee
    style BigQuery fill:#e3f2fd
    style VertexAI fill:#f1f8e9