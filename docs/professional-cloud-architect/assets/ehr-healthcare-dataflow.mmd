graph LR
    subgraph "Data Sources"
        A[ğŸ‘¥ Patient Data]
        B[ğŸ¥ Hospital Systems]
        C[ğŸ¢ Insurance Claims]
        D[ğŸ“Š Legacy File Systems]
    end
    
    subgraph "Data Ingestion"
        E[ğŸŒ API Gateway]
        F[ğŸ“ File Upload]
        G[ğŸ”„ Legacy Connectors]
    end
    
    subgraph "Data Processing Pipeline"
        H[ğŸš€ Cloud Run<br/>Data Validation]
        I[ğŸ”„ Cloud Dataflow<br/>ETL Processing]
        J[âš¡ Pub/Sub<br/>Event Streaming]
    end
    
    subgraph "Data Storage"
        K[ğŸ’¾ Cloud SQL<br/>Transactional Data]
        L[ğŸ“Š Cloud Firestore<br/>Document Store]
        M[ğŸ“¦ Cloud Storage<br/>Raw Data Lake]
    end
    
    subgraph "Analytics Layer"
        N[ğŸ“ˆ BigQuery<br/>Data Warehouse]
        O[ğŸ”„ Cloud Dataflow<br/>Analytics Pipeline]
        P[ğŸ¤– Vertex AI<br/>ML Models]
    end
    
    subgraph "Insights & Reporting"
        Q[ğŸ“Š Healthcare Insights]
        R[ğŸ“ˆ Trend Reports]
        S[ğŸ”® Predictive Analytics]
        T[ğŸ¯ Insurance Partner APIs]
    end
    
    subgraph "Real-time Processing"
        U[âš¡ Memorystore Redis]
        V[ğŸ“± Real-time Dashboard]
        W[ğŸš¨ Alert System]
    end
    
    %% Data ingestion flow
    A --> E
    B --> E
    C --> F
    D --> G
    
    %% Processing flow
    E --> H
    F --> H
    G --> H
    H --> I
    H --> J
    
    %% Storage flow
    I --> K
    I --> L
    I --> M
    J --> U
    
    %% Analytics flow
    K --> N
    L --> N
    M --> N
    N --> O
    O --> P
    
    %% Output flow
    P --> Q
    O --> R
    P --> S
    E --> T
    
    %% Real-time flow
    U --> V
    J --> W
    
    %% Feedback loops
    S -.-> W
    Q -.-> T

    style A fill:#e1f5fe
    style B fill:#e8f5e8
    style C fill:#fff3e0
    style N fill:#e3f2fd
    style P fill:#f1f8e9
    style V fill:#fce4ec