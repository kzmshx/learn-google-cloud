# ケーススタディ: Mountkirk Games

## 会社概要

Mountkirk Games は、モバイル プラットフォーム向けにセッション ベースのオンライン マルチプレーヤー型ゲームを開発しています。オンプレミス環境から Google Cloud への移行を終え、他のプラットフォームへの拡張を始めたところです。

最近は新たな挑戦として、レトロスタイルのファースト パーソン シューティング（FPS）ゲームを制作しています。このゲームでは、複数のプラットフォームと場所から何百人ものプレイヤーが同時に地域別のデジタル アリーナに参加できます。リアルタイムのデジタルバナーで、プレイ中のアリーナのすべてのトップ プレイヤーをグローバル リーダーボードに表示します。

## ソリューションのコンセプト

Mountkirk Games が開発中の新しいマルチプレーヤー型ゲームは、大人気になることが予想されています。ゲームのバックエンドは Google Kubernetes Engine にデプロイする予定です。これにより、迅速にスケーリングできるようになり、Google のグローバル ロードバランサを利用して、プレイヤーを最も近い地域のゲームアリーナにルーティングすることも可能になります。グローバル リーダーボードの同期を維持するために、マルチリージョン Spanner クラスタを使用する予定です。

## 既存の技術的環境

同社は最近、既存の環境を Google Cloud に移行しました。少数の例外を除き、リフト＆シフトによる仮想マシンの移行で 5 つのゲームを移行しました。

新しいゲームはそれぞれに分離された Google Cloud プロジェクトに配置され、権限とネットワーク ポリシーのほとんどを管理しているフォルダの下にネストされています。トラフィックの少ない従来のゲームは 1 つのプロジェクトにまとめました。開発とテストのための環境も個別に用意されています。

## ビジネス要件

- 複数のゲーム プラットフォームに対応する
- 複数のリージョンに対応する
- ゲーム機能の迅速な反復型開発に対応する
- レイテンシを最小化する
- 動的スケーリングに最適化する
- マネージド サービスとプールされたリソースを利用する
- 費用を最小限に抑える

## 技術的要件

- ゲーム アクティビティに基づいて、動的にスケーリングする
- ほぼリアルタイムのグローバル リーダーボードにスコアデータを公開する
- ゲーム アクティビティ ログを後で分析できるように構造化ファイルに保存する
- マルチプラットフォーム サポートのためにグラフィックス サーバー側を GPU 処理でレンダリングする
- 将来的に既存のゲームをこの新しいプラットフォームに移行できるようにする

## 経営陣のメッセージ

当社の最新のゲームに Google Cloud を初めて利用し、大成功しました。プレイヤーの行動とゲームのテレメトリーを、以前にはできなかった方法で分析できるようになりました。この成功がきっかけで、クラウドに完全に移行する方針が定まり、新しいゲームはすべてクラウドネイティブ設計の原則に基づいて制作するようになりました。次のゲームは当社にとって史上最大の挑戦であり、初めてモバイル以外のゲームプラットフォームに対応する予定です。

レイテンシが最優先事項であり、その次に重要な課題は費用管理です。当社初のクラウドベース ゲームの経験から、クラウドを利用した高度なアナリティクス機能にも期待するようになりました。迅速な反復型開発によってバグ修正や新機能のデプロイを加速したいと考えています。